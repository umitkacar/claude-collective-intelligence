<?xml version="1.0" encoding="UTF-8"?>
<testsuites name="jest tests" tests="214" failures="91" errors="0" time="32.678">
  <testsuite name="StatisticsCalculator" errors="0" failures="0" skipped="0" timestamp="2025-11-17T20:07:45" time="0.658" tests="63">
    <testcase classname="StatisticsCalculator › calculateAverage()" name="should calculate average of numbers" time="0.005">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateAverage()" name="should return 0 for empty array" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateAverage()" name="should return 0 for non-array input" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateAverage()" name="should handle single value" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateAverage()" name="should handle decimal values" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateMedian()" name="should calculate median for odd number of values" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateMedian()" name="should calculate median for even number of values" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateMedian()" name="should return 0 for empty array" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateMedian()" name="should handle unsorted array" time="0.002">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateMedian()" name="should handle single value" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculatePercentile()" name="should calculate 50th percentile (median)" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculatePercentile()" name="should calculate 95th percentile" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculatePercentile()" name="should throw error for invalid percentile" time="0.006">
    </testcase>
    <testcase classname="StatisticsCalculator › calculatePercentile()" name="should return 0 for empty array" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateSuccessRate()" name="should calculate success rate" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateSuccessRate()" name="should return 0 when total is 0" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateSuccessRate()" name="should handle all failures" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateThroughput()" name="should calculate tasks per second" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateThroughput()" name="should return 0 for zero or negative duration" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › calculateThroughput()" name="should handle fractional throughput" time="0.011">
    </testcase>
    <testcase classname="StatisticsCalculator › aggregateStats()" name="should aggregate stats from multiple agents" time="0.001">
    </testcase>
    <testcase classname="StatisticsCalculator › aggregateStats()" name="should return zero stats for empty array" time="0.002">
    </testcase>
    <testcase classname="ConsensusBuilder › majorityConsensus()" name="should find majority consensus" time="0.002">
    </testcase>
    <testcase classname="ConsensusBuilder › majorityConsensus()" name="should return null when threshold not met" time="0">
    </testcase>
    <testcase classname="ConsensusBuilder › majorityConsensus()" name="should handle object responses" time="0.002">
    </testcase>
    <testcase classname="ConsensusBuilder › unanimousConsensus()" name="should find unanimous consensus" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › unanimousConsensus()" name="should return null when not unanimous" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › unanimousConsensus()" name="should handle single response" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › weightedConsensus()" name="should find weighted consensus" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › weightedConsensus()" name="should throw error for mismatched weights" time="0.002">
    </testcase>
    <testcase classname="ConsensusBuilder › weightedConsensus()" name="should throw error for zero total weight" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › buildConsensus()" name="should use majority method by default" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › buildConsensus()" name="should use specified method" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › buildConsensus()" name="should throw error for unknown method" time="0.001">
    </testcase>
    <testcase classname="ConsensusBuilder › buildConsensus()" name="should return null for empty responses" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › mergeResults()" name="should merge multiple results" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › mergeResults()" name="should handle results without data" time="0.002">
    </testcase>
    <testcase classname="ResultAggregator › selectBestResult()" name="should select result with highest score" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › selectBestResult()" name="should prefer faster result when scores are equal" time="0.002">
    </testcase>
    <testcase classname="ResultAggregator › selectBestResult()" name="should return null for empty results" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › aggregate()" name="should aggregate using merge strategy" time="0.007">
    </testcase>
    <testcase classname="ResultAggregator › aggregate()" name="should aggregate using first strategy" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › aggregate()" name="should aggregate using last strategy" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › aggregate()" name="should aggregate using best strategy" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › aggregate()" name="should throw error for unknown strategy" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › aggregate()" name="should return null for empty results" time="0">
    </testcase>
    <testcase classname="ResultAggregator › combineScores()" name="should combine scores using average" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › combineScores()" name="should combine scores using max" time="0.001">
    </testcase>
    <testcase classname="ResultAggregator › combineScores()" name="should combine scores using min" time="0">
    </testcase>
    <testcase classname="ResultAggregator › combineScores()" name="should throw error for unknown method" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › format()" name="should format error with all fields" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › format()" name="should return null for null error" time="0">
    </testcase>
    <testcase classname="ErrorFormatter › format()" name="should format error without context" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › formatBatch()" name="should format multiple errors" time="0.002">
    </testcase>
    <testcase classname="ErrorFormatter › formatBatch()" name="should return empty array for non-array input" time="0">
    </testcase>
    <testcase classname="ErrorFormatter › summarize()" name="should create error summary" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › summarize()" name="should include error code in summary" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › summarize()" name="should handle null error" time="0">
    </testcase>
    <testcase classname="ErrorFormatter › summarize()" name="should handle error without message" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › extractStackTrace()" name="should extract stack trace lines" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › extractStackTrace()" name="should return empty array for null error" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › extractStackTrace()" name="should return empty array for error without stack" time="0.001">
    </testcase>
    <testcase classname="ErrorFormatter › extractStackTrace()" name="should limit stack trace lines" time="0.001">
    </testcase>
  </testsuite>
  <testsuite name="AgentOrchestrator" errors="0" failures="44" skipped="0" timestamp="2025-11-17T20:07:46" time="1.009" tests="48">
    <testcase classname="AgentOrchestrator › Constructor" name="should initialize with default worker type" time="0.003">
    </testcase>
    <testcase classname="AgentOrchestrator › Constructor" name="should initialize with custom agent type" time="0.001">
    </testcase>
    <testcase classname="AgentOrchestrator › Constructor" name="should initialize data structures" time="0.001">
    </testcase>
    <testcase classname="AgentOrchestrator › Constructor" name="should initialize stats" time="0.002">
    </testcase>
    <testcase classname="AgentOrchestrator › initialize()" name="should connect to RabbitMQ" time="0.037">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:100:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › initialize()" name="should setup queues and exchanges" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:107:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › initialize()" name="should setup event listeners" time="0.01">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:117:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › initialize()" name="should store brainstorm queue name" time="0.006">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:126:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › initialize()" name="should return orchestrator instance" time="0.006">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:133:41)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › Event Handlers" name="should publish status on connected event" time="0.01">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:142:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › Event Handlers" name="should publish status on disconnected event" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:157:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › Event Handlers" name="should handle error event" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:173:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › startTeamLeader()" name="should consume results" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:187:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › startTeamLeader()" name="should subscribe to status updates" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:198:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › startWorker()" name="should consume tasks" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:212:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › startWorker()" name="should listen to brainstorms" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:223:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › startCollaborator()" name="should listen to brainstorms" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:236:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › startCollaborator()" name="should consume tasks" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:247:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › assignTask()" name="should publish task with correct format" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:260:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › assignTask()" name="should use default priority if not provided" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:283:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › assignTask()" name="should publish status after task assignment" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:301:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should process task successfully" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:332:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should track active task" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:352:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should publish task started status" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:375:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should publish result after completion" time="0.005">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:400:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should handle collaboration requirement" time="0.005">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:424:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should handle task failure" time="0.005">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:450:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should retry failed task if retryCount &gt; 0" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:473:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleTask()" name="should remove task from active tasks after completion" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:496:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › initiateBrainstorm()" name="should create brainstorm session" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:516:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › initiateBrainstorm()" name="should broadcast brainstorm message" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:533:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleBrainstormMessage()" name="should process brainstorm message" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:556:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleBrainstormMessage()" name="should publish brainstorm response" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:574:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › publishResult()" name="should publish result to client" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:600:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › publishResult()" name="should store result locally" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:615:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › publishResult()" name="should increment resultsPublished stat" time="0.006">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:631:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › publishResult()" name="should publish result status" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:646:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleResult()" name="should handle task result" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:669:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleResult()" name="should handle brainstorm response" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:688:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › publishStatus()" name="should publish status with agent info" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:708:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleStatusUpdate()" name="should process status updates from other agents" time="0.001">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:728:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › handleStatusUpdate()" name="should ignore own status updates" time="0.001">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:748:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › getStats()" name="should return current statistics" time="0.003">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:769:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › shutdown()" name="should publish shutdown status" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:795:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › shutdown()" name="should close client connection" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:810:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › Edge Cases" name="should handle initialization without connection" time="0.011">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Connection failed&quot;
Received message:   &quot;this.client.on is not a function&quot;

      44 |
      45 |     // Setup event listeners
    &gt; 46 |     this.client.on(&apos;connected&apos;, () =&gt; {
         |                 ^
      47 |       console.log(&apos;✅ Agent connected to orchestration system&apos;);
      48 |       this.publishStatus({ state: &apos;connected&apos;, agentType: this.agentType }, &apos;agent.status.connected&apos;);
      49 |     });

      at AgentOrchestrator.on [as initialize] (scripts/orchestrator.js:46:17)
      at Object.&lt;anonymous&gt; (tests/unit/orchestrator.test.js:824:33)
    at Object.toThrow (/home/user/plugin-ai-agent-rabbitmq/node_modules/expect/build/index.js:218:22)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:824:55)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › Edge Cases" name="should handle empty task" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:829:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="AgentOrchestrator › Edge Cases" name="should handle brainstorm with default question" time="0.004">
      <failure>TypeError: this.client.on is not a function
    at AgentOrchestrator.on [as initialize] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:46:17)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:847:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
      <failure>TypeError: this.client.publishStatus is not a function
    at AgentOrchestrator.publishStatus (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:347:23)
    at AgentOrchestrator.publishStatus [as shutdown] (/home/user/plugin-ai-agent-rabbitmq/scripts/orchestrator.js:386:16)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/orchestrator.test.js:53:26)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusHook (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:281:40)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:254:5)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
  </testsuite>
  <testsuite name="RabbitMQClient" errors="0" failures="46" skipped="0" timestamp="2025-11-17T20:07:47" time="30.559" tests="53">
    <testcase classname="RabbitMQClient › Constructor" name="should initialize with default config" time="0.003">
    </testcase>
    <testcase classname="RabbitMQClient › Constructor" name="should initialize with custom config" time="0.001">
    </testcase>
    <testcase classname="RabbitMQClient › Constructor" name="should generate agent ID" time="0.002">
    </testcase>
    <testcase classname="RabbitMQClient › Constructor" name="should initialize connection state" time="0.005">
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should connect successfully" time="0.023">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should setup connection error handler" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should setup connection close handler" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should setup channel error handler" time="0.006">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should emit connected event" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should throw error on connection failure" time="0.006">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Connection failed&quot;
Received message:   &quot;getaddrinfo EAI_AGAIN test&quot;


    at Object.toThrow (/home/user/plugin-ai-agent-rabbitmq/node_modules/expect/build/index.js:218:22)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/rabbitmq-client.test.js:136:46)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › connect()" name="should handle channel creation failure" time="0.006">
      <failure>Error: expect(received).rejects.toThrow(expected)

Expected substring: &quot;Channel creation failed&quot;
Received message:   &quot;getaddrinfo EAI_AGAIN test&quot;


    at Object.toThrow (/home/user/plugin-ai-agent-rabbitmq/node_modules/expect/build/index.js:218:22)
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/rabbitmq-client.test.js:143:46)
    at Promise.then.completed (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:298:28)
    at new Promise (&lt;anonymous&gt;)
    at callAsyncCircusFn (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/utils.js:231:10)
    at _callCircusTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:316:40)
    at processTicksAndRejections (node:internal/process/task_queues:105:5)
    at _runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:252:3)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:126:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at _runTestsForDescribeBlock (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:121:9)
    at run (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/run.js:71:3)
    at runAndTransformResultsToJestFormat (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Event Handling" name="should emit error event on connection error" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Event Handling" name="should emit disconnected event on connection close" time="0.006">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Event Handling" name="should emit error event on channel error" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › reconnect()" name="should reconnect with exponential backoff" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › reconnect()" name="should emit max_reconnect_reached after max attempts" time="0.003">
    </testcase>
    <testcase classname="RabbitMQClient › reconnect()" name="should calculate exponential backoff correctly" time="30.002">
      <failure>Error: thrown: &quot;Exceeded timeout of 30000 ms for a test.
Add a timeout value to this test to increase the timeout, if this is a long-running test. See https://jestjs.io/docs/api#testname-fn-timeout.&quot;
    at /home/user/plugin-ai-agent-rabbitmq/tests/unit/rabbitmq-client.test.js:211:5
    at _dispatchDescribe (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/index.js:91:26)
    at describe (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/index.js:55:5)
    at /home/user/plugin-ai-agent-rabbitmq/tests/unit/rabbitmq-client.test.js:187:3
    at _dispatchDescribe (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/index.js:91:26)
    at describe (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/index.js:55:5)
    at /home/user/plugin-ai-agent-rabbitmq/tests/unit/rabbitmq-client.test.js:38:1
    at SourceTextModule.evaluate (node:internal/vm/module:217:23)
    at Runtime.linkAndEvaluateModule (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runtime/build/index.js:710:20)
    at jestAdapter (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:75:5)
    at runTestInternal (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:367:16)
    at runTest (/home/user/plugin-ai-agent-rabbitmq/node_modules/jest-runner/build/runTest.js:444:34)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Queue Setup" name="should setup task queue with correct options" time="0.008">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Queue Setup" name="should setup task queue with default name" time="0.008">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Queue Setup" name="should setup result queue" time="0.009">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Exchange Setup" name="should setup brainstorm exchange (fanout)" time="0.009">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Exchange Setup" name="should setup status exchange (topic)" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Publishing" name="should publish task to queue" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Publishing" name="should broadcast brainstorm message" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Publishing" name="should publish result" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Publishing" name="should publish status with routing key" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should consume tasks with handler" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should handle task message correctly" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should ack message when handler calls ack" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should nack message when handler calls nack" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should reject message when handler calls reject" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should nack message on handler error" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Message Consumption" name="should handle null message in consumer" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Brainstorm Consumption" name="should listen to brainstorm messages" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Brainstorm Consumption" name="should ignore own brainstorm messages" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Brainstorm Consumption" name="should handle brainstorm from other agents" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Brainstorm Consumption" name="should ack message even on brainstorm handler error" time="0.003">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Result Consumption" name="should consume results" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Result Consumption" name="should handle result message correctly" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Result Consumption" name="should ack message even on result handler error" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Status Subscription" name="should subscribe to status updates" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Status Subscription" name="should handle status messages" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Status Subscription" name="should ack message even on status handler error" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Health Check" name="should return false when not connected" time="0.001">
    </testcase>
    <testcase classname="RabbitMQClient › Health Check" name="should return true when connected" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Health Check" name="should return false when connection is null" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Health Check" name="should return false when channel is null" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › close()" name="should close channel and connection" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › close()" name="should handle close when not connected" time="0.002">
    </testcase>
    <testcase classname="RabbitMQClient › close()" name="should handle channel close error gracefully" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Edge Cases" name="should handle invalid JSON in consumed message" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Edge Cases" name="should handle connection close with auto-reconnect enabled" time="0.005">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
    <testcase classname="RabbitMQClient › Edge Cases" name="should not reconnect when auto-reconnect is disabled" time="0.004">
      <failure>Error: getaddrinfo EAI_AGAIN test
    at GetAddrInfoReqWrap.onlookupall [as oncomplete] (node:dns:122:26)</failure>
    </testcase>
  </testsuite>
  <testsuite name="MessageValidator" errors="0" failures="1" skipped="0" timestamp="2025-11-17T20:08:17" time="0.253" tests="50">
    <testcase classname="MessageValidator › validate()" name="should validate correct message" time="0.002">
    </testcase>
    <testcase classname="MessageValidator › validate()" name="should throw error for null message" time="0.009">
    </testcase>
    <testcase classname="MessageValidator › validate()" name="should throw error for missing id" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validate()" name="should throw error for missing type" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validate()" name="should throw error for missing from field" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validate()" name="should throw error for missing timestamp" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validateTask()" name="should validate correct task message" time="0">
    </testcase>
    <testcase classname="MessageValidator › validateTask()" name="should throw error for wrong type" time="0">
    </testcase>
    <testcase classname="MessageValidator › validateTask()" name="should throw error for missing task field" time="0">
    </testcase>
    <testcase classname="MessageValidator › validateTask()" name="should throw error for missing task title" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validateResult()" name="should validate correct result message" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validateResult()" name="should throw error for wrong type" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validateResult()" name="should throw error for missing result field" time="0.002">
    </testcase>
    <testcase classname="MessageValidator › validateBrainstorm()" name="should validate correct brainstorm message" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validateBrainstorm()" name="should throw error for wrong type" time="0.001">
    </testcase>
    <testcase classname="MessageValidator › validateBrainstorm()" name="should throw error for missing message field" time="0.001">
    </testcase>
    <testcase classname="MessageRouter › register()" name="should register handler for message type" time="0.002">
    </testcase>
    <testcase classname="MessageRouter › register()" name="should throw error for invalid message type" time="0.002">
    </testcase>
    <testcase classname="MessageRouter › register()" name="should throw error for invalid handler" time="0.002">
    </testcase>
    <testcase classname="MessageRouter › route()" name="should route message to correct handler" time="0.004">
    </testcase>
    <testcase classname="MessageRouter › route()" name="should throw error for invalid message" time="0.002">
    </testcase>
    <testcase classname="MessageRouter › route()" name="should throw error for unregistered message type" time="0.002">
    </testcase>
    <testcase classname="MessageRouter › route()" name="should handle async handlers" time="0.014">
    </testcase>
    <testcase classname="MessageRouter › hasHandler()" name="should return true for registered handler" time="0.001">
    </testcase>
    <testcase classname="MessageRouter › hasHandler()" name="should return false for unregistered handler" time="0.001">
    </testcase>
    <testcase classname="MessageRouter › removeHandler()" name="should remove registered handler" time="0.003">
    </testcase>
    <testcase classname="MessageRouter › removeHandler()" name="should return true when handler was removed" time="0.001">
    </testcase>
    <testcase classname="MessageRouter › removeHandler()" name="should return false when handler does not exist" time="0">
    </testcase>
    <testcase classname="AcknowledgmentHandler › handleMessage()" name="should ack message on successful processing" time="0.001">
    </testcase>
    <testcase classname="AcknowledgmentHandler › handleMessage()" name="should nack and requeue on first failure" time="0.002">
    </testcase>
    <testcase classname="AcknowledgmentHandler › handleMessage()" name="should reject after max retries" time="0.002">
    </testcase>
    <testcase classname="AcknowledgmentHandler › handleMessage()" name="should include error in result" time="0.001">
    </testcase>
    <testcase classname="AcknowledgmentHandler › shouldRetry()" name="should return true when retry count is below max" time="0.001">
    </testcase>
    <testcase classname="AcknowledgmentHandler › shouldRetry()" name="should return false when retry count equals max" time="0.002">
    </testcase>
    <testcase classname="AcknowledgmentHandler › shouldRetry()" name="should return true for message with no retry count" time="0.001">
    </testcase>
    <testcase classname="AcknowledgmentHandler › Configuration" name="should use default configuration" time="0.001">
    </testcase>
    <testcase classname="AcknowledgmentHandler › Configuration" name="should use custom configuration" time="0.003">
    </testcase>
    <testcase classname="DeadLetterHandler › add()" name="should add dead letter message" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › add()" name="should add metadata to dead letter" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › add()" name="should capture error stack" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › getAll()" name="should return all dead letters" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › getAll()" name="should return empty array when no dead letters" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › getByMessageId()" name="should return dead letters for specific message ID" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › getByMessageId()" name="should return empty array for non-existent message ID" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › count()" name="should return count of dead letters" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › count()" name="should return 0 when no dead letters" time="0.001">
    </testcase>
    <testcase classname="DeadLetterHandler › clear()" name="should clear all dead letters" time="0.007">
    </testcase>
    <testcase classname="Integration: Message Processing Flow" name="should process valid message successfully" time="0.001">
    </testcase>
    <testcase classname="Integration: Message Processing Flow" name="should retry failed message" time="0.005">
      <failure>Error: expect(received).toBe(expected) // Object.is equality

Expected: &quot;reject&quot;
Received: &quot;ack&quot;
    at Object.&lt;anonymous&gt; (/home/user/plugin-ai-agent-rabbitmq/tests/unit/message-handlers.test.js:792:27)</failure>
    </testcase>
    <testcase classname="Integration: Message Processing Flow" name="should add to dead letter queue after max retries" time="0.002">
    </testcase>
  </testsuite>
</testsuites>